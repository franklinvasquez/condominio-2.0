<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!-- Mirrored from webapplayers.com/homer_admin-v2.0/light-shadow/text_editor.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 29 Aug 2017 17:58:16 GMT -->
<head>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!-- Page title -->
<title>HOMER | WebApp admin theme</title>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<!--<link rel="shortcut icon" type="image/ico" href="favicon.ico" />-->

<!-- Vendor styles -->
<link rel="stylesheet"
	href="/condominio/vendor/fontawesome/css/font-awesome.css" />
<link rel="stylesheet" th:href="@{/vendor/metisMenu/dist/metisMenu.css}" />
<link rel="stylesheet" th:href="@{/vendor/animate.css/animate.css}" />
<link rel="stylesheet"
	th:href="@{/vendor/bootstrap/dist/css/bootstrap.css}" />
<link rel="stylesheet" th:href="@{/vendor/select2-3.5.2/select2.css}" />
<link rel="stylesheet"
	th:href="@{/vendor/select2-bootstrap/select2-bootstrap.css}" />
<link rel="stylesheet" th:href="@{/vendor/toastr/toastr.min.css}" />

<!-- App styles -->
<link rel="stylesheet"
	th:href="@{/fonts/pe-icon-7-stroke/css/pe-icon-7-stroke.css}" />
<link rel="stylesheet"
	th:href="@{/fonts/pe-icon-7-stroke/css/helper.css}" />
<link rel="stylesheet" th:href="@{/css/style.css}" />

</head>
<body class="light-skin fixed-navbar sidebar-scroll">

	<!-- Simple splash screen-->
	<div class="splash">
		<div class="color-line"></div>
		<div class="splash-title">
			<h1>Homer - Responsive Admin Theme</h1>
			<p>Special Admin Theme for small and medium webapp with very
				clean and aesthetic style and feel.</p>
			<div class="spinner">
				<div class="rect1"></div>
				<div class="rect2"></div>
				<div class="rect3"></div>
				<div class="rect4"></div>
				<div class="rect5"></div>
			</div>
		</div>
	</div>
	<!--[if lt IE 7]>
<p class="alert alert-danger">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->

	<!-- Header -->
	<div th:replace="fragmentos/header::header">Header</div>

	<!-- Navigation -->
	<div th:replace="fragmentos/menu::menu">Menu navegacion</div>

	<!-- Main Wrapper -->
	<div id="wrapper">

		<div class="normalheader ">
			<div class="hpanel">
				<div class="panel-body">
					<a class="small-header-action" href="#">
						<div class="clip-header">
							<i class="fa fa-arrow-up"></i>
						</div>
					</a>

					<div id="hbreadcrumb" class="pull-right m-t-lg">
						<ol class="hbreadcrumb breadcrumb">
							<li><a href="index-2.html">Dashboard</a></li>
							<li><span>Tables</span></li>
							<li class="active"><span>Tables design</span></li>
						</ol>
					</div>
					<h2 class="font-light m-b-xs">Administrar cuentas de huesped</h2>
					<small>Examples of various designs of tables.</small>
				</div>
			</div>
		</div>
		<div class="content">
			<div class="row">
				<div class="col-lg-12">
					<div class="hpanel">
						<div class="hpanel">

							<ul class="nav nav-tabs">
								<li class="active"><a data-toggle="tab" href="#tab-1">Cuentas</a></li>
								<li class=""><a data-toggle="tab" href="#tab-2">Formulario</a></li>
							</ul>
							<div class="tab-content">
								<div id="tab-1" class="tab-pane active">
									<div class="panel-body">
										<div class="row">
											<div class="col-lg-7"></div>
											<div class="col-lg-1">
												<a id="btn-refresh" class="btn btn-default"> <i
													class="pe-7s-refresh"></i>
												</a>
											</div>
											<div class="col-lg-4">
												<div class="input-group">
													<input type="text" placeholder="Ingrese la busqueda"
														class="form-control" /> <span class="input-group-btn">
														<button type="button" class="btn btn-primary">Busqueda
														</button>
													</span>
												</div>
											</div>
										</div>
										<br />
										<div class="row">
											<div class="col-lg-12">
												<div class="table-responsive">
													<table cellpadding="1" cellspacing="1"
														class="table table-bordered table-striped">
														<thead>
															<tr>
																<th>Nombre de usuario</th>
																<th>Vivienda</th>
																<th>fecha Inicio</th>
																<th>fecha Fin</th>
																<th style="width: 20px;">Accion</th>
															</tr>
														</thead>
														<tbody id="tbody-representantes">
															<tr th:fragment="models_table"
																th:each="representante : ${representantes}">
																<td th:text="${representante.persona}">1</td>
																<td th:text="${representante.vivienda}">1</td>
																<td
																	th:text="${#dates.format(representante.fechaInicio, 'dd-MM-yyyy')}">1</td>
																<td
																	th:text="${representante.fechaFinal != null} ? ${#dates.format(representante.fechaInicio, 'dd-MM-yyyy')}">1</td>
																<td><a th:attr="data-id = ${representante.id}"
																	class="btn btn-default edit-table"> <i
																		class="fa fa-edit"></i></a></td>
															</tr>
														</tbody>
													</table>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div id="tab-2" class="tab-pane">
									<div class="panel-body">
										<div id="form-contenedor">
											<form id="registro-form" action="#">
												<div class="row">
													<div class="form-group col-lg-2">
													<label>
														<input
															type="radio" class="i-checks" name="tipo"
															th:checked="${true}" data-tipo="registrar" value="0" /> Registrar usuario</label>
													</div>
													<div  class="form-group col-lg-2">
														<label><input type="radio" class="i-checks" name="tipo"
															th:checked="${false}" data-tipo="existe" value="1" /> Ya existe</label>
													</div>
												</div>
												<div class="row">
													<div class="form-group col-lg-12">
														<label>Nombre de usuario</label> <input type="text"
															id="nombreUsuario" class="form-control"
															name="nombreUsuario" /> <label id="nombreUsuario-error"
															class="error hidden" for="nombreUsuario"></label>
													</div>
												</div>
												<div class="row" id="row-password">
													<div class="form-group col-lg-6">
														<label>Password</label> <input type="password"
															id="password" class="form-control" name="password" /> <label
															id="password-error" class="error hidden" for="password"></label>
													</div>
													<div class="form-group col-lg-6">
														<label>Repeat Password</label> <input type="password"
															id="repeatPassword" class="form-control"
															name="repeatPassword" /> <label
															id="repeatPassword-error" class="error hidden"
															for="repeatPassword"></label>
													</div>
												</div>
												<div class="row">
													<div class="col-lg-6 form-group">
														<label>Vivienda</label> <select id="vivienda"
															class="js-source-states" name="vivienda"
															style="width: 100%">
															<option th:fragment="models_select"
																th:each="vivienda : ${viviendas}"
																th:value="${vivienda.id}" th:text="${vivienda.numero}"></option>
														</select> <label id="vivienda-error" class="error hidden"
															for="vivienda"></label>
													</div>
													<div class="form-group col-lg-6">
														<label>Estado</label> <select class="form-control"
															name="estado" id="estado">
															<option value="1">Activo</option>
															<option value="0">Inactivo</option>
														</select> <label id="estado-error" class="error hidden"
															for="estado"></label>
													</div>
												</div>

											</form>
										</div>
										<div class="text-center">
											<button id="btn-form" class="btn btn-success"
												onsubmit="return false">Registrar</button>
											<button class="btn btn-default">Regresar</button>
										</div>
									</div>
								</div>
							</div>


						</div>
					</div>
				</div>
			</div>
			<div></div>
		</div>

		<!-- Right sidebar -->
		<div id="right-sidebar" class="animated fadeInRight">

			<div class="p-m">
				<button id="sidebar-close"
					class="right-sidebar-toggle sidebar-button btn btn-default m-b-md">
					<i class="pe pe-7s-close"></i>
				</button>
				<div>
					<span class="font-bold no-margins"> Analytics </span> <br /> <small>
						Lorem Ipsum is simply dummy text of the printing simply all dummy
						text.</small>
				</div>
				<div class="row m-t-sm m-b-sm">
					<div class="col-lg-6">
						<h3 class="no-margins font-extra-bold text-success">300,102</h3>

						<div class="font-bold">
							98% <i class="fa fa-level-up text-success"></i>
						</div>
					</div>
					<div class="col-lg-6">
						<h3 class="no-margins font-extra-bold text-success">280,200</h3>

						<div class="font-bold">
							98% <i class="fa fa-level-up text-success"></i>
						</div>
					</div>
				</div>
				<div class="progress m-t-xs full progress-small">
					<div style="width: 25%" aria-valuemax="100" aria-valuemin="0"
						aria-valuenow="25" role="progressbar"
						class=" progress-bar progress-bar-success">
						<span class="sr-only">35% Complete (success)</span>
					</div>
				</div>
			</div>
			<div class="p-m bg-light border-bottom border-top">
				<span class="font-bold no-margins"> Social talks </span> <br /> <small>
					Lorem Ipsum is simply dummy text of the printing simply all dummy
					text.</small>
				<div class="m-t-md">
					<div class="social-talk">
						<div class="media social-profile clearfix">
							<a class="pull-left"> <img th:src="@{/images/a1.jpg}"
								alt="profile-picture" />
							</a>

							<div class="media-body">
								<span class="font-bold">John Novak</span> <small
									class="text-muted">21.03.2015</small>
								<div class="social-content small">Injected humour, or
									randomised words which don't look even slightly believable.</div>
							</div>
						</div>
					</div>
					<div class="social-talk">
						<div class="media social-profile clearfix">
							<a class="pull-left"> <img th:src="@{/images/a3.jpg}"
								alt="profile-picture" />
							</a>

							<div class="media-body">
								<span class="font-bold">Mark Smith</span> <small
									class="text-muted">14.04.2015</small>
								<div class="social-content">Many desktop publishing
									packages and web page editors.</div>
							</div>
						</div>
					</div>
					<div class="social-talk">
						<div class="media social-profile clearfix">
							<a class="pull-left"> <img th:src="@{/images/a4.jpg}"
								alt="profile-picture" />
							</a>

							<div class="media-body">
								<span class="font-bold">Marica Morgan</span> <small
									class="text-muted">21.03.2015</small>

								<div class="social-content">There are many variations of
									passages of Lorem Ipsum available, but the majority have</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="p-m">
				<span class="font-bold no-margins"> Sales in last week </span>
				<div class="m-t-xs">
					<div class="row">
						<div class="col-xs-6">
							<small>Today</small>
							<h4 class="m-t-xs">
								$170,20 <i class="fa fa-level-up text-success"></i>
							</h4>
						</div>
						<div class="col-xs-6">
							<small>Last week</small>
							<h4 class="m-t-xs">
								$580,90 <i class="fa fa-level-up text-success"></i>
							</h4>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-6">
							<small>Today</small>
							<h4 class="m-t-xs">
								$620,20 <i class="fa fa-level-up text-success"></i>
							</h4>
						</div>
						<div class="col-xs-6">
							<small>Last week</small>
							<h4 class="m-t-xs">
								$140,70 <i class="fa fa-level-up text-success"></i>
							</h4>
						</div>
					</div>
				</div>
				<small> Lorem Ipsum is simply dummy text of the printing
					simply all dummy text. Many desktop publishing packages and web
					page editors. </small>
			</div>

		</div>

		<!-- Footer-->
		<div th:replace="fragmentos/footer::footer"></div>

	</div>

	<!-- Vendor scripts -->
	<script th:src="@{/vendor/jquery/dist/jquery.min.js}"></script>
	<script th:src="@{/vendor/jquery-ui/jquery-ui.min.js}"></script>
	<script th:src="@{/vendor/slimScroll/jquery.slimscroll.min.js}"></script>
	<script th:src="@{/vendor/bootstrap/dist/js/bootstrap.min.js}"></script>
	<script th:src="@{/vendor/metisMenu/dist/metisMenu.min.js}"></script>
	<script th:src="@{/vendor/iCheck/icheck.min.js}"></script>
	<script th:src="@{/vendor/sparkline/index.js}"></script>
	<script th:src="@{/vendor/select2-3.5.2/select2.min.js}"></script>
	<script th:src="@{/vendor/toastr/toastr.min.js}"></script>

	<!-- App scripts -->
	<script th:src="@{/js/homer.js}"></script>
	<script th:inline="javascript">
		$(function() {
			//inicializar select2
			$(".js-source-states").select2();
			//activar tab
			function activaTab(tab) {
				$('.nav-tabs a[href="#' + tab + '"]').tab('show');
			}
			//evento save form
			$('#btn-form').on('click', function(e) {
				saveFormRegistro();
			});
			//evento select check
			$('.i-checks').on('ifChecked', function (e){
				var tipo=$(this).attr('data-tipo');
				if(tipo==='registrar'){
					$('#row-password').removeClass('hidden');
				}
				else{
					$('#row-password').addClass('hidden');
				}
			});
						
			function habilitar_edit() {
				//evento edit table
				$(".edit-table").on('click', function() {
					var paramId = $(this).attr("data-id");
					var url = "/condominio/representante/desactivar";
					var jqxhr = ajax(url, "post", {
						id : paramId
					}, "json");
					jqxhr.done(function(ret_data) {
						if (ret_data.estado) {
							toastr.success(ret_data.valor);
							loadTable();
							loadSelect();
						} else {
							toastr.warning(ret_data.valor);
						}
					}).fail(function() {
						toastr.error("error de conexion");
					});
				});
			}
			function hide_messages() {
				$('.form-control').removeClass("error");
				$("label[class='error']").addClass("hidden");
			}
			function show_messages(response) {
				var errores = response.errorMessages;
				$.each(errores, function(key, value) {
					$("#" + key).addClass("error");
					var selector = "#" + key + "-error";
					$(selector).text(value);
					$(selector).removeClass("hidden");
				});

			}
			habilitar_edit();
			//evento btn refresh
			$("#btn-refresh").on("click", function() {
				loadTable();
			});

			//refrescar tabla de representantes
			function loadTable() {
				$("#tbody-representantes").load(
						"/condominio/representante/refreshTable", function() {
							habilitar_edit();
						});
			}
			//refrescar select de viviendas
			function loadSelect() {
				$("#vivienda").select2("destroy");
				$("#vivienda").load("/condominio/representante/refreshSelect",
						function() {
							$(".js-source-states").select2();
						});
			}

			function saveFormRegistro() {
				var vivienda = $("#vivienda").val();
				var data = $("#registro-form").serializeArray();
				data.push({
					name : 'vivienda',
					value : vivienda
				});
				var url = "/condominio/representante/registrar";
				var jqxhr = ajax(url, "post", data, "json");
				//evento exito
				jqxhr.done(function(ret_data) {
					//evaluar exito
					if (ret_data.estado) {
						//ocultar errores form
						hide_messages();
						$("#registro-form")[0].reset();
						//actualizar tabla
						loadTable();
						loadSelect();
						//desplegar mensaje global
						toastr.success(ret_data.valor);
					} else {
						hide_messages();
						show_messages(ret_data);
						toastr.warning(ret_data.valor);
					}
				}).fail(function() {
					toastr.error("error de conexion");
				}).always(function() {

				});
			}

			function ajax(url, method, data, dataType) {
				var jqxhr = $.ajax({
					method : method,
					url : url,
					data : data,
					dataType : dataType
				});
				return jqxhr;
			}
		});
	</script>



</body>

<!-- Mirrored from webapplayers.com/homer_admin-v2.0/light-shadow/text_editor.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 29 Aug 2017 17:58:16 GMT -->
</html>